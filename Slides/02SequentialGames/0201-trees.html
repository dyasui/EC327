<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>trees – EC327 Game Theory</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="extensive-form" class="level1">
<h1>Extensive Form</h1>
<section id="game-treesextensive-form-as-a-tool" class="level2">
<h2 class="anchored" data-anchor-id="game-treesextensive-form-as-a-tool">Game Trees/Extensive Form as a tool</h2>
<ul>
<li><p>Before we learn how to solve a game, it will helpful to be able to visualize them</p></li>
<li><p>Because of the ordered nature of sequential games, a <span class="hi">tree diagram</span> makes sense</p></li>
</ul>
<hr>
</section>
<section id="a-decision-tree" class="level2">
<h2 class="anchored" data-anchor-id="a-decision-tree">A <em>Decision</em> Tree</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/decisiontree.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
<div class="notes">
<ul>
<li>Is this a strategic decision?
<ul>
<li>No: if it’s only me</li>
</ul></li>
<li>Just because there are no other branches leading to the intiial node doesn’t mean there are no other decisions that lead us here. Just that we are not modeling them for the sake of this decision.</li>
</ul>
</div>
<hr>
</section>
<section id="extensive-form-definition" class="level2">
<h2 class="anchored" data-anchor-id="extensive-form-definition">Extensive Form Definition</h2>
<div class="incremental">
<p>A <span class="h">Tree Graph</span> consists of:</p>
<ul class="incremental">
<li><p>Multiple <span class="hi">nodes</span> with an ordered hierarchy starting from one <span class="hii">initial node</span></p></li>
<li><p><span class="hi">Branches</span> coming from each node which connect it to later nodes</p></li>
<li><p>The tree ends in any of the multiple <span class="hi">terminal nodes</span></p></li>
</ul>
</div>
<p>. . .</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Each (non-initial) terminal node may have multiple branches leading from it; but must only have <em>one</em> branch that <em>leads to it</em>.</p>
</div>
</div>
<div class="notes">
<ul>
<li>This is because <em>actions</em> are different from <em>strategies</em>
<ul>
<li>even if the actions are practically similar, it matters how we got there</li>
</ul></li>
</ul>
</div>
<hr>
</section>
<section id="anatomy-of-a-tree" class="level2">
<h2 class="anchored" data-anchor-id="anatomy-of-a-tree">Anatomy of a tree</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/tree-nodes.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
<div class="notes">
<ul>
<li>There are three nodes in this tree,
<ul>
<li>one initial node at the top: this is where the game begins</li>
<li>two other nodes follow after the choice at the initial node is decided</li>
</ul></li>
</ul>
</div>
<hr>
</section>
<section id="anatomy-of-a-tree-1" class="level2">
<h2 class="anchored" data-anchor-id="anatomy-of-a-tree-1">Anatomy of a tree</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/tree-branches.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
<div class="notes">
<ul>
<li>In this case, each <em>decision node</em> has its own two <em>branches</em>
<ul>
<li>It helps to label each branch with the name of the action it represents</li>
</ul></li>
</ul>
</div>
<hr>
</section>
<section id="anatomy-of-a-tree-2" class="level2">
<h2 class="anchored" data-anchor-id="anatomy-of-a-tree-2">Anatomy of a tree</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/tree-terminalnodes.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
<div class="notes">
<ul>
<li>The game ends with four <em>terminal nodes</em>
<ul>
<li>Unlike the nodes before, there is no decision to be made because the game is over</li>
<li>By convention, they won’t be drawn as dots to differentiate them</li>
</ul></li>
</ul>
</div>
<hr>
</section>
<section id="kidnapping-game" class="level2">
<h2 class="anchored" data-anchor-id="kidnapping-game">Kidnapping Game <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></h2>
<p>A kidnapper named <span class="hi">Guy</span> has contacted the victim’s wife, named <span class="hi">Vivica</span>, to demand a ransom.</p>
<p>To predict what will happen to the victim, <span class="hi">Orlando</span>, we need to create a game theoretic model of the situation.</p>
<p>Let’s use the language of the tree graph to visualize this game.</p>
<div class="notes">
<ul>
<li>Draw game on chalkboard step-by-step so students see how it’s constructed</li>
<li>Explain order of each action for each node, starting w/ inital choice to kidnap or not</li>
</ul>
</div>
<hr>
<section id="kidnapping-game-1" class="level3">
<h3 class="anchored" data-anchor-id="kidnapping-game-1">Kidnapping Game</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/kidnapgame_blank.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="incremental">
<ul class="incremental">
<li><p>Who are the players?</p></li>
<li><p>Where are the decisions?</p></li>
<li><p>What are the branches? What do they represent?</p></li>
<li><p>What do the terminal nodes represent?</p></li>
<li><p>Is this a <em>complete</em> representation of a game? What’s missing?</p></li>
</ul>
</div>
</div>
</div>
<div class="notes">
<ul>
<li>Guy and Vivica are players because they have decisions which influence the outcome</li>
<li>Orlando is not a player</li>
<li>decisions are at each of the 4 nodes</li>
<li>Each action is a decision</li>
<li>A complete game needs preferences of the players!</li>
<li>Note that even though Guy has two branches each for Kill and Release, they show up in different parts of the tree.
<ul>
<li>Prior decisions matter!</li>
</ul></li>
</ul>
</div>
<hr>
</section>
</section>
<section id="kidnapping-game-payoffs" class="level2">
<h2 class="anchored" data-anchor-id="kidnapping-game-payoffs">Kidnapping Game payoffs</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th><strong>Outcome</strong></th>
<th><span class="red"><strong>Guy</strong></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>No kidnapping</td>
<td><span class="red">3</span></td>
</tr>
<tr class="even">
<td>Kidnapping, ransom paid, Orlando killed</td>
<td><span class="red">4</span></td>
</tr>
<tr class="odd">
<td>Kidnapping, ransom paid, Orlando released</td>
<td><span class="red">5</span></td>
</tr>
<tr class="even">
<td>Kidnapping, no ransom paid, Orlando killed</td>
<td><span class="red">2</span></td>
</tr>
<tr class="odd">
<td>Kidnapping, no ransom paid, Orlando released</td>
<td><span class="red">1</span></td>
</tr>
</tbody>
</table>
<div class="notes">
<ul>
<li>Guy’s preferences:
<ul>
<li>Best case: Gets ransom money and he doesn’t have to kill Orlando</li>
<li>Next best: Gets money but he has to kill Orlando :(</li>
<li>Middle: No kidnapping, status quo, everyone goes about their lives</li>
<li>Next worst: Kidnaps Orlando, gets no ransom, but at least gets to play tough for next kidnapping victim</li>
<li>Worst case: Kidnaps Orlando but gets no ransom, <em>and</em> has to release Orlando</li>
</ul></li>
</ul>
</div>
<hr>
</section>
<section id="kidnapping-game-payoffs-1" class="level2">
<h2 class="anchored" data-anchor-id="kidnapping-game-payoffs-1">Kidnapping Game payoffs</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 54%">
<col style="width: 20%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Outcome</strong></th>
<th><span class="red"><strong>Guy</strong></span></th>
<th><span class="blue"><strong>Vivica</strong></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>No kidnapping</td>
<td><span class="red">3</span></td>
<td><span class="blue">5</span></td>
</tr>
<tr class="even">
<td>Kidnapping, ransom paid, Orlando killed</td>
<td><span class="red">4</span></td>
<td><span class="blue">1</span></td>
</tr>
<tr class="odd">
<td>Kidnapping, ransom paid, Orlando released</td>
<td><span class="red">5</span></td>
<td><span class="blue">3</span></td>
</tr>
<tr class="even">
<td>Kidnapping, no ransom paid, Orlando killed</td>
<td><span class="red">2</span></td>
<td><span class="blue">2</span></td>
</tr>
<tr class="odd">
<td>Kidnapping, no ransom paid, Orlando released</td>
<td><span class="red">1</span></td>
<td><span class="blue">4</span></td>
</tr>
</tbody>
</table>
<div class="notes">
<ul>
<li>Vivica’s preferences
<ul>
<li>Best case: She and Orlando get to go about their lives without experiencing kidnapping</li>
<li>Next best: Orlando is kidnapped, but is released without needing to pay</li>
<li>Middle: Orlando is kidnapped, but is released after ransom is paid</li>
<li>Next worst: Orlando is killed, but no ransom paid</li>
<li>Worst: Orlando is killed and loses money</li>
</ul></li>
</ul>
</div>
<hr>
</section>
<section id="kidnapping-game-tree-with-payoffs" class="level2">
<h2 class="anchored" data-anchor-id="kidnapping-game-tree-with-payoffs">Kidnapping game tree with payoffs</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/kidnapgame.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<div class="notes">
<ul>
<li><p>We added the correct payoffs to the terminal node corresponding to each outcome from the table</p></li>
<li><p>Note how the convention is that the first player to move has their payoffs listed first</p></li>
</ul>
</div>
<hr>
</section>
<section id="predictions" class="level2">
<h2 class="anchored" data-anchor-id="predictions">Predictions?</h2>
<p>Based on the extensive form game tree with payoffs,</p>
<ul>
<li>Do you have any predictions for what strategies each player will choose?</li>
</ul>
<div class="notes">
<ul>
<li>Ask students what they would do in Guy’s position,</li>
<li>in Vivica’s?</li>
<li>Should they think about what the other player is thinking?</li>
<li>Would they have different preference orederings of the outcomes?</li>
</ul>
</div>
<hr>
</section>
<section id="a-definition-of-an-extensive-form-game" class="level2">
<h2 class="anchored" data-anchor-id="a-definition-of-an-extensive-form-game">a Definition of an Extensive Form Game: <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></h2>
<div class="incremental">
<ul class="incremental">
<li><p>A collection of decision-makers, called <span class="hi">players</span> or <em>agents</em></p></li>
<li><p>A set of <span class="hi">decision nodes</span>, each represents the information available to the player of that node</p></li>
<li><p>Strategies for each player which list the <span class="hi">branches</span> from <em>each</em> node that represetn the actions a player would take if faced with that choice</p></li>
<li><p>A <span class="h">tree diagram</span> which maps the intersections of players’ strategy profiles to the outcomes represented at each <span class="hi">terminal nodes</span></p></li>
</ul>
</div>
<div class="notes">
<ul>
<li>connect this definition to the more general defition of a game from lecture 1
<ul>
<li><em>players</em> are a part of every game</li>
<li><em>decision nodes</em> are a specific representation of <em>information sets</em></li>
<li><em>strategies</em> will be defined by paths players take along the <em>branches</em></li>
<li><em>preferences</em> are represented by the payoffs at terminal nodes</li>
</ul></li>
</ul>
</div>
<hr>
</section>
<section id="strategies-in-extensive-form-games" class="level2">
<h2 class="anchored" data-anchor-id="strategies-in-extensive-form-games">Strategies in Extensive Form Games</h2>
<div class="incremental">
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>A <span class="hi">strategy</span> is a <strong>complete plan of action</strong> which assigns an action at <em>every</em> node where a player makes a decision</p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Be careful to distinguish between a <span class="hi"><em>strategy</em></span> and a single <em>action/choice</em></p>
</div>
</div>
<p>What’s the difference?</p>
</div>
<div class="notes">
<ul>
<li>The difference between a complete <em>strategy</em> and a single <em>action</em> is that a strategy contains a list of multiple actions and the conditions for when that action will be taken</li>
</ul>
</div>
<hr>
</section>
<section id="apply-this-definition-to-the-kidnapping-game" class="level2">
<h2 class="anchored" data-anchor-id="apply-this-definition-to-the-kidnapping-game">Apply this definition to the kidnapping game:</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/kidnapgame_blank.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:60%;">
<div class="incremental">
<ul class="incremental">
<li>How many decisions does <span class="red">Guy</span> make?
<ul class="incremental">
<li>3</li>
</ul></li>
<li>How many decisions does <span class="blue">Vivica</span> make?
<ul class="incremental">
<li>1</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="notes">
<ul>
<li>count the nodes labeled with each player’s name</li>
</ul>
</div>
<hr>
</section>
<section id="apply-this-definition-to-the-kidnapping-game-1" class="level2">
<h2 class="anchored" data-anchor-id="apply-this-definition-to-the-kidnapping-game-1">Apply this definition to the kidnapping game:</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/kidnapgame_blank.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:60%;">
<div class="incremental">
<ul class="incremental">
<li>Write out a complete strategy for <span class="blue">Vivica</span>
<ul class="incremental">
<li>Only two strategies:
<ul class="incremental">
<li><strong><em>{</em></strong> <span class="blue"><em>Pay</em></span> the ransom <strong><em>}</em></strong>,</li>
<li>or <strong><em>{</em></strong> <span class="blue"><em>Don’t</em></span> pay <strong><em>}</em></strong></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="notes">
<ul>
<li>Vivica only has to make a decision in the branch where Orlando is kidnapped</li>
</ul>
</div>
<hr>
</section>
<section id="apply-this-definition-to-the-kidnapping-game-2" class="level2">
<h2 class="anchored" data-anchor-id="apply-this-definition-to-the-kidnapping-game-2">Apply this definition to the kidnapping game:</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/kidnapgame_blank.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:60%;">
<div class="incremental">
<ul class="incremental">
<li>Write out at complete strategy for <span class="red">Guy</span>
<ul class="incremental">
<li>Let’s give some shorter names for Guy’s actions:
<ul class="incremental">
<li><span class="red"><span class="math inline">\(A\)</span></span> <span class="math inline">\(\equiv\)</span> Kidnap Orlando (Abduct)</li>
<li><span class="red"><span class="math inline">\(I\)</span></span> <span class="math inline">\(\equiv\)</span> Don’t kidnap Orlando (Ignore)</li>
<li><span class="red"><span class="math inline">\(K\)</span></span> <span class="math inline">\(\equiv\)</span> Kill Orlando</li>
<li><span class="red"><span class="math inline">\(L\)</span></span> <span class="math inline">\(\equiv\)</span> Let Orlando live</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="notes">
<ul>
<li>But Guy’s choices depend on what Vivica chooses, so his strategy is more complicated</li>
</ul>
</div>
<hr>
</section>
<section id="apply-this-definition-to-the-kidnapping-game-3" class="level2">
<h2 class="anchored" data-anchor-id="apply-this-definition-to-the-kidnapping-game-3">Apply this definition to the kidnapping game:</h2>
<p>Guy has <span class="math inline">\(8\)</span> total complete strategies:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 47%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th>If Guy <span class="math inline">\(A\)</span>bducts</th>
<th>If Guy <span class="math inline">\(I\)</span>gnores</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>( <span class="red"><span class="math inline">\(A\)</span></span>, <span class="red"><span class="math inline">\(K\)</span></span>, <span class="red"><span class="math inline">\(K\)</span></span> )</td>
<td>( <span class="red"><span class="math inline">\(I\)</span></span>, <span class="red"><span class="math inline">\(K\)</span></span>, <span class="red"><span class="math inline">\(K\)</span></span> )</td>
</tr>
<tr class="even">
<td>( <span class="red"><span class="math inline">\(A\)</span></span>, <span class="red"><span class="math inline">\(L\)</span></span>, <span class="red"><span class="math inline">\(K\)</span></span> )</td>
<td>( <span class="red"><span class="math inline">\(I\)</span></span>, <span class="red"><span class="math inline">\(L\)</span></span>, <span class="red"><span class="math inline">\(L\)</span></span> )</td>
</tr>
<tr class="odd">
<td>( <span class="red"><span class="math inline">\(A\)</span></span>, <span class="red"><span class="math inline">\(K\)</span></span>, <span class="red"><span class="math inline">\(L\)</span></span> )</td>
<td>( <span class="red"><span class="math inline">\(I\)</span></span>, <span class="red"><span class="math inline">\(K\)</span></span>, <span class="red"><span class="math inline">\(L\)</span></span> )</td>
</tr>
<tr class="even">
<td>( <span class="red"><span class="math inline">\(A\)</span></span>, <span class="red"><span class="math inline">\(L\)</span></span>, <span class="red"><span class="math inline">\(L\)</span></span> )</td>
<td>( <span class="red"><span class="math inline">\(I\)</span></span>, <span class="red"><span class="math inline">\(L\)</span></span>, <span class="red"><span class="math inline">\(L\)</span></span> )</td>
</tr>
</tbody>
</table>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Harrington, pg 18<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>for finite, perfect information games<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/dyasui\.github\.io\/EC327\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>